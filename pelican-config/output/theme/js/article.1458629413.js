HTMLElement.prototype.wrap=function(elms){if(!elms.length)elms=[elms];for(var i=elms.length-1;i>=0;i--){var child=i>0?this.cloneNode(true):this;var el=elms[i];var parent=el.parentNode;var sibling=el.nextSibling;child.appendChild(el);if(sibling){parent.insertBefore(child,sibling)}else{parent.appendChild(child)}}};(function(){(function wrap_table_with_div(){var tables=document.getElementsByTagName("table");if(!tables.length)return;var div=document.createElement("div");div.className="table_wrapper";div.wrap(tables)})();(function wrap_english_em_with_span(){var ems=document.getElementsByTagName("em");for(var i=0;i<ems.length;i++){var inner=ems[i].innerHTML;var words=inner.split(/(<.*?\/.*?>)/);for(var j=0;j<words.length;j++)if(words[j][0]!="<")words[j]=words[j].replace(/([^\u4e00-\u9fa5]+)/g,'<span lang="en-us">$1</span>');ems[i].innerHTML=words.join("")}})();(function goto_top(){var gotop=document.getElementById("gotop");if(!gotop)return;window.onscroll=function(){var opacity=.6;var begin=500;var end=700;var t=document.documentElement.scrollTop||document.body.scrollTop;t-=begin;if(t<0){gotop.style.opacity=0;gotop.onclick=null}else{var diff=end-begin;if(t>diff){t=diff;gotop.onclick=scrollToTop}gotop.style.opacity=t/diff*opacity}};bezier=function(x1,y1,x2,y2,duration){return function(x1,y1,x2,y2,epsilon){var curveX=function(t){var v=1-t;return 3*v*v*t*x1+3*v*t*t*x2+t*t*t};var curveY=function(t){var v=1-t;return 3*v*v*t*y1+3*v*t*t*y2+t*t*t};var derivativeCurveX=function(t){var v=1-t;return 3*(2*(t-1)*t+v*v)*x1+3*(-t*t*t+2*v*t)*x2};return function(t){var x=t,t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){x2=curveX(t2)-x;if(Math.abs(x2)<epsilon)return curveY(t2);d2=derivativeCurveX(t2);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0,t1=1,t2=x;if(t2<t0)return curveY(t0);if(t2>t1)return curveY(t1);while(t0<t1){x2=curveX(t2);if(Math.abs(x2-x)<epsilon)return curveY(t2);if(x>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return curveY(t2)}}(x1,y1,x2,y2,1e3/60/duration/4)};scrollToTop=function(){var duration=500;var easeInCubic=bezier(.755,.05,.855,.06,duration);var body=document.body;var now=function(){return(new Date).getTime()};var start=now();var begin=body.scrollTop;var step=setInterval(function(){var delta=now()-start;body.scrollTop=parseInt(begin*(1-easeInCubic(delta/duration)),10);if(body.scrollTop===0||delta>duration)clearInterval(step)},10)}})()})();