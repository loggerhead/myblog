<!Doctype html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<meta name="renderer" content="webkit">
<meta name="HandheldFriendly" content="True">
<meta name="google-site-verification" content="xRiYQAQ0h0n3RXqrq0GgrdFm3BMFqDvDwwiRylv0YhQ">

<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="author" content="loggerhead" />    <meta name="keywords" content="量子加密,加密算法" />

  <meta name="description" content="量子加密号称「绝对安全」绝不是哗众取宠，为什么这样说呢？因为与传统加密算法不同，量子加密的 原理基于物理定律，而不是特定数学问题的计算复杂性。因此，无论计算机的运算能力怎么增强，也丝毫不影响量子加密的安全性。本文以 BB84 协议来介绍量子加密，下文为了方便不对量子加密和 BB84 协议进行区分。" />

  <title>  绝对安全的量子加密
</title>

<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">

  <link rel="stylesheet" href="../theme/css/style.1cd8932.css">
 
  <link rel="icon" type="image/x-icon" href="/favicon.ico">

  <link href="../atom.xml" rel="alternate" type="application/atom+xml">
</head>
<body>

<nav class="navbar navbar-default navbar-static-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="..">loggerhead's blog</a>
    </div>
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
        <li><a href="../index.html">首页</a></li>
        <li><a href="../archives.html">归档</a></li>
        <li><a href="../404.html">关于</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/loggerhead" target="_blank">GitHub</a></li>
        <li><a href="https://www.hackerrank.com/loggerhead" target="_blank">HackerRank</a></li>
        <li><a href="https://douban.com/people/loggerhead" target="_blank">豆瓣</a></li>
      </ul>
    </div><!--/.navbar-header -->
  </div><!--/.container -->
</nav><!--/.navbar -->

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="markdown-body article-list">
  <section id="content">
    <article>
      <header class="page-header">
        <h1>
          <a class="article-title" href="../posts/jue-dui-an-quan-de-liang-zi-jia-mi.html" rel="bookmark" title="Permalink to 绝对安全的量子加密">
            绝对安全的量子加密
          </a>
        </h1>
<footer class="post-info">
  <div class="row">
    <div class="col-xs-8">
      <!-- <span class="label label-default">Tags</span> -->
        <a class="tag btn btn-xs" href="../tag/liang-zi-jia-mi.html">
          量子加密
        </a>
        <a class="tag btn btn-xs" href="../tag/jia-mi-suan-fa.html">
          加密算法
        </a>
    </div>

    <div class="col-xs-4 time">
      <time class="pull-right" datetime="2015-10-10T19:09:05+08:00">
        2015-10-10
      </time>
    </div>
  </div>
</footer>        <hr>
      </header>
      <div class="entry-content">
        <p><a href="https://zh.wikipedia.org/wiki/量子密碼學">量子加密</a>号称「绝对安全」绝不是哗众取宠，为什么这样说呢？因为与传统加密算法不同，量子加密的 <strong>原理基于物理定律</strong>，而不是特定数学问题的计算复杂性。因此，无论计算机的运算能力怎么增强，也丝毫不影响量子加密的安全性。本文以 <a href="https://zh.wikipedia.org/wiki/量子密碼學#BB84.E5.8D.8F.E8.AE.AE">BB84 协议</a>来介绍量子加密，下文为了方便不对量子加密和 BB84 协议进行区分。</p>


<div class="toc">
<ul>
<li><a href="#_1">加密过程</a><ul>
<li><a href="#_2">前提与假设</a></li>
<li><a href="#_3">生成密钥</a></li>
<li><a href="#_4">量子加密</a></li>
</ul>
</li>
<li><a href="#_5">为啥安全</a><ul>
<li><a href="#_6">中间人攻击</a></li>
<li><a href="#_7">一次一密</a></li>
</ul>
</li>
<li><a href="#_8">参考</a></li>
</ul>
</div>
<h1 id="_1">加密过程</h1>
<p>我们先看一个不涉及任何物理定律，但是原理和量子加密相同的加密过程。</p>
<h2 id="_2">前提与假设</h2>
<p>假设存在两个函数：<code>+</code>、<code>×</code>，和一些值：0、1、→、↑、↖ 和 ↗。它们的运算满足：</p>
<table>
<thead>
<tr>
<th></th>
<th>1</th>
<th>0</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>+</strong></td>
<td>→</td>
<td>↑</td>
</tr>
<tr>
<td><strong>×</strong></td>
<td>↖</td>
<td>↗</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th>→</th>
<th>↑</th>
<th>↖</th>
<th>↗</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>+</strong></td>
<td>→</td>
<td>↑</td>
<td>?</td>
<td>?</td>
</tr>
<tr>
<td><strong>×</strong></td>
<td>?</td>
<td>?</td>
<td>↖</td>
<td>↗</td>
</tr>
</tbody>
</table>
<p>以 <code>+</code> 函数为例，不难理解：</p>
<table>
<thead>
<tr>
<th><code>+(0)</code></th>
<th><code>+(1)</code></th>
<th><code>+(→)</code></th>
<th><code>+(↑)</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>↑</td>
<td>→</td>
<td>→</td>
<td>↑</td>
</tr>
</tbody>
</table>
<p>唯一特殊的地方在于 <code>+(↖)</code> 和 <code>+(↗)</code> 是从 ↖ 或 ↗ 中随机挑一个作为运算结果，即产生 <code>+(↖)=↖</code> 或 <code>+(↖)=↗</code> 的可能性一样大，都为 <span class="math">\frac{1}{2}</span>。注意，这里的随机 <em>不是传统计算机中的伪随机，而是真随机</em>。</p>
<h2 id="_3">生成密钥</h2>
<p>假设 Alice 和 Bob 要进行通信，整个加密过程如下图所示。</p>
<p><img alt="Quantum Cryptography" src="https://dn-loggerhead.qbox.me/images/quantum_cryptography.png" /></p>
<p>Alice 随机产生一个数（0 或 1），再随机选择一个函数 <code>+</code> 或 <code>×</code> 进行运算。比如：Alice 随机产生的第一个数为 1，随机选择的函数为 <code>+</code>，那么运算结果为 <code>+(1)=→</code>。此过程会重复多次，产生一系列 →、↑、↖ 或 ↗，随后 Alice 将这些运算结果传送给 Bob。</p>
<table>
    <tbody>
    <tr>
        <td class="thead">Alice 产生的随机数</td> 
        <td>1</td> <td>1</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td>
    </tr>
    <tr>
        <td class="thead">Alice 随机选择的函数</td> 
        <td>+</td> <td>×</td> <td>×</td> <td>×</td> <td>×</td> <td>+</td> <td>×</td> <td>+</td> <td>×</td>
    </tr>
    <tr>
        <td class="thead">Alice 发送的运算结果</td> 
        <td>→</td> <td>↖</td> <td>↖</td> <td>↗</td> <td>↖</td> <td>↑</td> <td>↖</td> <td>↑</td> <td>↗</td>
    </tr>
    </tbody>
</table>

<p>Bob 在接收到 Alice 发送的一系列 →、↑、↖ 或 ↗ 值后，对每个值随机选择 <code>+</code> 或 <code>×</code> 函数进行运算。此时，Bob 得到了一系列运算结果，然后 Bob 根据 <code>+(1)=→, ×(1)=↖</code> 等运算规则反推 Alice 发送的随机数。注意，因为进行了随机选择，所以 Bob 与 Alice 的运算结果并不一定相等，但是 Bob 并不在乎这一点。</p>
<table>
    <tbody>
    <tr>
        <td class="thead">Bob 接收到的运算结果</td> 
        <td>→</td> <td>↖</td> <td>↖</td> <td>↗</td> <td>↖</td> <td>↑</td> <td>↖</td> <td>↑</td> <td>↗</td>
    </tr>
    <tr>
        <td class="thead">Bob 随机选择的函数</td> 
        <td>+</td> <td>×</td> <td>+</td> <td>+</td> <td>×</td> <td>+</td> <td>+</td> <td>+</td> <td>+</td>
    </tr>
    <tr>
        <td class="thead">Bob 得到的运算结果</td> 
        <td>→</td> <td>↖</td> <td>↑</td> <td>↑</td> <td>↖</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td>
    </tr>
    <tr>
        <td class="thead">Bob 认为 Alice 发送的随机数</td> 
        <td>1</td> <td>1</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td>
    </tr>
    </tbody>
</table>

<p>接下来，Bob 告诉 Alice 自己随机选择了哪些函数。Alice 将其与自己的选择做对比，然后告诉 Bob 是不是选得和她一样。Bob 收到 Alice 的回答后，找到那些和 Alice 相同的函数，将通过它们推断出的随机数作为加密用的密钥，也就是 <code>11100</code>。</p>
<p><img alt="compare results" src="https://dn-loggerhead.qbox.me/images/alice_and_bob_compare_results.png" /></p>
<h2 id="_4">量子加密</h2>
<p>量子力学假设光子（光子是一种量子）有四种偏振方向：↑、→、↗ 和 ↖，它们都可以通过某种装置产生。而在经过直线基 <code>+</code> 或对角基 <code>×</code> 时，它们既有可能保持不变，也有可能随机变成一种偏振方向。比如：偏振光子 → 的在经过直线基 <code>+</code> 时保持不变，还是 →，而在经过对角基 <code>×</code> 后则随机的变成了 ↗ 或 ↖。同时，基 <code>+</code> 和 <code>×</code> 也可以用来制备量子状态，比如：基 <code>+</code> 将比特 0 制备成 ↑，把比特 1 制备成 →。</p>
<p><img alt="光的偏振" src="https://dn-loggerhead.qbox.me/images/光的偏振.png" /></p>
<p>稍加思考就会发现，上述理论不就是我们的<a href="#_2">前提与假设</a>吗？我们将之前提到的函数、运算等等全部替换成相应的物理过程，就得到了所谓的量子加密。</p>
<h1 id="_5">为啥安全</h1>
<p>相信看懂上述加密过程并不困难，那么为什么说量子加密绝对安全呢？我们首先得了解两个定律：</p>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/不确定性原理">不确定性原理</a>：任何粒子都不能被精确地测到状态，任何测量都会影响到粒子的原先状态</li>
<li><a href="https://zh.wikipedia.org/wiki/不可克隆原理">不可克隆定理</a>：没有任何办法能够复制一个未知的量子态，而不改变量子态</li>
</ul>
<h2 id="_6">中间人攻击</h2>
<p>如果 Eve 想要窃听 Alice 发给 Bob 的光子，因为不可克隆定理，所以 Eve 只能查看 Alice 发给 Bob 的光子，而无法复制一个进行查看。同时，因为不确定性原理，并且由于 Eve 不知道 Alice 选择的测量基（只有 Alice 自己知道），所以 Eve 只能像 Bob 那样随机选择基进行测量。那么就有 <span class="math">\frac{1}{2}</span> 的概率改变光子的状态。例如：Eve 用基 <code>×</code> 测量偏振光子 ↑ 后，偏振方向变成了 ↖。</p>
<p><img alt="Eve eavesdrop photon" src="https://dn-loggerhead.qbox.me/images/eavesdrop_photon.png" /></p>
<p>因为单个光子几乎没有包含任何有用信息，所以如果 Eve 想要窃听 Alice 与 Bob 的通信，势必会测量多个光子。假设 Eve 窃听过程中光子的变化如下表所示：</p>
<table>
    <tbody>
    <tr>
        <td class="thead">Alice 发送的光子</td> 
        <td>→</td> <td>↖</td> <td>↖</td> <td>↗</td> <td>↖</td> <td>↑</td> <td>↖</td> <td>↑</td> <td>↗</td>
    </tr>
    <tr>
        <td class="thead">Eve 随机选择的测量基</td> 
        <td>+</td> <td>+</td> <td>+</td> <td>+</td> <td>+</td> <td>+</td> <td>+</td> <td>+</td> <td>+</td>
    </tr>
    <tr>
        <td class="thead">Eve 窃听后的光子</td> 
        <td>→</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td>
    </tr>
    </tbody>
</table>

<p>Bob 接收到 Eve 窃听后发生改变的光子，假设他选择的测量基和之前一样，那么可能得到：</p>
<table>
    <tbody>
    <tr>
        <td class="thead">Bob 收到的光子</td> 
        <td>→</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td>
    </tr>
    <tr>
        <td class="thead">Bob 随机选择的基</td> 
        <td>+</td> <td>×</td> <td>+</td> <td>+</td> <td>×</td> <td>+</td> <td>+</td> <td>+</td> <td>+</td>
    </tr>
    <tr>
        <td class="thead">Bob 测量得到的偏振态</td> 
        <td>→</td> <td>↗</td> <td>→</td> <td>↑</td> <td>↗</td> <td>↑</td> <td>→</td> <td>↑</td> <td>→</td>
    </tr>
    <tr>
        <td class="thead">Bob 认为 Alice 发送的随机比特</td> 
        <td>1</td> <td>0</td> <td>1</td> <td>0</td> <td>0</td> <td>0</td> <td>1</td> <td>0</td> <td>1</td>
    </tr>
    </tbody>
</table>

<p>Bob 在对收到光子进行测量后告诉 Alice 自己选择的测量基，而 Alice 在与自己选的测量基进行对比后，回复 Bob 第 1、2、5、6、8 个基和她一样。此时，<strong>Bob 认为密钥应该是 <code>10000</code>，而 Alice 认为密钥应该是 <code>11100</code></strong>。为了确保没人窃听，Bob 把密钥的第 1、3 位传给 Alice，即 <code>10</code>，Alice 收到后与自己的 <code>11</code> 进行对比，发现不一样，于是马上意识到有人进行窃听。</p>
<p>此处因为传送的光子很少，所以 Eve 有较大的几率窃听而不被发现。不过，只要 Alice 发送的光子足够多，Alice 和 Bob 最后得到的密钥就足够长，这时候窃听后密钥依然相同的概率就非常小，只要 Alice 与 Bob 对比一部分密钥，就能察觉是否有人监听。</p>
<h2 id="_7">一次一密</h2>
<p>但是如果 Eve 不窃听光子，而是等 Alice 与 Bob 形成密钥后进行破解，Alice 与 Bob 应该如何应对呢？</p>
<p>有一个办法是<a href="https://zh.wikipedia.org/wiki/一次性密碼本">一次一密</a>，也就是每次传输都使用新的密钥，且保证密钥与明文等长或者更长。采用这种方法获得的密文具有<a href="https://zh.wikipedia.org/wiki/完善保密性">完善保密性</a>，密文不会透露任何与明文有关的信息，从而保证了「绝对安全」。</p>
<h1 id="_8">参考</h1>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/量子密碼學">量子密碼學</a></li>
<li><a href="http://ftlin.sam.pccu.edu.tw/QuantumLab/Cryptography/BB84_Intro.htm">BB84 量子密鑰協議的說明</a></li>
<li>视频：<a href="https://www.youtube.com/watch?v=UVzRbU6y7Ks">The BB84 Protocol</a></li>
</ul>
      </div>
    </article>
  </section>
<div id="disqus_thread"></div>
<script>
var disqus_config = function () {
    this.page.identifier = "绝对安全的量子加密";
};

(function() {
    var d = document, s = d.createElement('script');
    s.async = true;
    s.src = "//loggerhead.disqus.com/embed.js";
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>      </div>
    </div>
  </div>
</div>

 <footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-xs-8">
        <p>
          &copy;2016&nbsp; <a href="..">loggerhead</a>
        </p>
      </div>
      <div class="col-xs-4">
        <p class="pull-right">
          <a href="#" class="back-to-top">
            <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
            回到顶部
          </a>
        </p>
      </div>
    </div>

    <div class="row hidden-when-phone">
      <div class="col-xs-8">
        <p>
          <a href="http://www.miitbeian.gov.cn/" target="_blank">粤ICP备16007488号</a>
          &middot; Powered by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
        </p>

        <p>
          本站文章均为原创，并遵循 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh_TW" target="_blank">CC BY-SA 4.0 协议</a>
        </p>
      </div><!--/.col-xs-8 -->

      <div class="col-xs-4">
        <p class="pull-right">
          <a href="https://www.upyun.com/zh/league.html" target="_blank">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAtCAMAAAAZUYxJAAAAtFBMVEUAAABPrtxPrtxPrtxPrtxPrtxlZ2ZlZ2ZPrtxlZ2ZRqdRlZ2ZPrtxPrtxPrtxPrtxPrtxlZ2ZPrtxlZ2ZPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxlZ2ZPrtxPrtxPrtxlZ2ZlZ2ZPrtxlZ2ZlZ2ZPrtxPrtxlZ2ZlZ2ZlZ2ZlZ2ZlZ2ZPrtxPrtxlZ2ZPrtxlZ2ZlZ2ZlZ2ZPrtxPrtxlZ2ZPrtxlZ2bPPWi/AAAAOnRSTlMAgNCQ8aAQcD8fA/FPMevhsDD5wLp1cCHZypmHOwyrooFTGhLh0sSwinlfXfju67yMRyfcooZ4RS0XProUtAAAAZlJREFUSMft02tT4jAUxvHTNtAaobjd3iyUq1zE1V1dr0++//fypMGZCrbw1jG/N2nD8KcTTsmyLOvH6sUC4Tio7fxWyufll1KKqKu0P7fLpy7veUCHlwAAfxMYELsAHKIOtCiMe2TICQxPNqeNq7OjaWNGlX+Ixo4TAxg2p6e+/8jL32PpVZomLnBJWhZdzomNQiBrTJ/x3Y1ej6Q9XQIi0tJwQZUAGC7KlrS8VermhHS/+khuR8U17cRg+bYxTUvePTUtL+5p0iejdIJ5vwCKxqc+3z315IR0wsftLMgwB51Uf+9aqc1B2uf1gYbAapc2x1p+mc4nfDGnOikQE015jje+v6lNyPPaTMgMQJGmXpUuIyBO0tQ9SFdDIumTAf4Tvd0p43CupYsP1eQaB2mBF9oTmKF8WF+dGybNF3fLaZfYYpgLAGbCZOIKg6ehEEK/Gq98R2OIraS6Xqh//zNz1ntmQEgtMgGEbg2HkZet6Z6ndQbAmNr0c+xbZdSa9rATZtRK3l87dcmIqD2duJXYmZNlWZb17b0DTmto7227YPgAAAAASUVORK5CYII=" />
          </a>
        </p>
      </div>
    </div>
  </div>
</footer>
    <script src="../theme/js/bag.2.0.2.min.js"></script>

<script id="myscripts">
bag = new window.Bag();

bag.require([
    "//cdn.bootcss.com/jquery/2.2.1/jquery.min.js",
    "//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"
]);

function load_css(url, done) {
    var link  = document.createElement('link');
    link.rel  = 'stylesheet';
    link.href = url;
    link.onload = done;
    document.head.appendChild(link);
}

function load_js(url, done) {
    var script = document.createElement('script');
    script.src = url;
    script.onload = done;
    document.body.appendChild(script);
}

function gestureStart() {
    for (i = 0; i < metas.length; i++) {
        if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=0.25, maximum-scale=1.6";
        }
    }
}

(function screen_suit() {
    var metas = document.getElementsByTagName('meta');
    var ua = navigator.userAgent;
    if (ua.match(/iPhone/i)) {
        for (var i = 0; i < metas.length; i++) {
            if (metas[i].name == "viewport") {
                metas[i].content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0";
            }
        }
        document.addEventListener("gesturestart", gestureStart, false);
    }
})();

// See https://gist.github.com/vartan/ab195e5a502a47e0c3e5
(function fix_hover_behavior() {
    if('ontouchstart' in document.documentElement) {
        for(var sheetI = document.styleSheets.length - 1; sheetI >= 0; sheetI--) {
            var sheet = document.styleSheets[sheetI];
            if(sheet.cssRules) {
                for(var ruleI = sheet.cssRules.length - 1; ruleI >= 0; ruleI--) {
                    var rule = sheet.cssRules[ruleI];
                    if(rule.selectorText) {
                        rule.selectorText = rule.selectorText.replace(":hover", ":active");
                    }
                }
            }
        }
    }
})();

(function add_class_to_chinese_em(class_name) {
    var ems = document.getElementsByTagName("em");

    for (var i = 0; i < ems.length; i++) {
        var text = ems[i].textContent;
        // if has chinese char
        if(/.*[\u4e00-\u9fa5]+.*$/.test(text)) {
            ems[i].className += " " + class_name;
        }
    }
})('chinese');

// IE10 viewport hack for Surface/desktop Windows 8 bug
(function fix_ie10_viewport_bug() {
    if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
        bag.require([
            "//maxcdn.bootstrapcdn.com/css/ie10-viewport-bug-workaround.css",
            "//maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"
        ]);
    }
})();

(function load_katex_when_need(class_name) {
    var maths = document.getElementsByClassName(class_name);
    if (maths.length == 0) {
        return;
    }

    bag.require([
        "//cdn.bootcss.com/KaTeX/0.6.0/katex.min.js"
    ]).then(function() {
        for (var i = 0; i < maths.length; i++) {
            var math = maths[i];

            var displayMode = null;
            if (math.tagName == "SPAN") {
                displayMode = false;
            } else if (math.tagName == "DIV") {
                displayMode = true;
            }

            if (displayMode === null) {
                console.log("Cannot render " + math);
            } else {
                try {
                    katex.render(math.textContent, maths[i], { displayMode: displayMode });
                } catch (err) {
                    console.log(err);
                }
            }
        }
    });

    load_css("//cdn.bootcss.com/KaTeX/0.6.0/katex.min.css");
})("math");
</script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script>
  bag.require([
    "//cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js",
    "//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"
  ]);
  </script>
<![endif]-->
 
</body>
</html>