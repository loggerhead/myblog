<!Doctype html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<meta name="renderer" content="webkit">
<meta name="HandheldFriendly" content="True">
<meta name="google-site-verification" content="xRiYQAQ0h0n3RXqrq0GgrdFm3BMFqDvDwwiRylv0YhQ">

<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="author" content="loggerhead" />    <meta name="keywords" content="GitHub,non-tech" />

  <meta name="description" content="如果你常常使用 GitHub，稍微留心就会发现，不少项目都有勋章（badges），那这些勋章有什么用呢？要怎么给自己的项目也「戴上」勋章呢？" />

  <title>  给 GitHub 项目戴上勋章
</title>

<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">

  <link rel="stylesheet" href="../theme/css/style.1cd8932.css">
 
  <link rel="icon" type="image/x-icon" href="/favicon.ico">

  <link href="../atom.xml" rel="alternate" type="application/atom+xml">
</head>
<body>

<nav class="navbar navbar-default navbar-static-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="..">loggerhead's blog</a>
    </div>
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
        <li><a href="../index.html">首页</a></li>
        <li><a href="../archives.html">归档</a></li>
        <li><a href="../404.html">关于</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/loggerhead" target="_blank">GitHub</a></li>
        <li><a href="https://www.hackerrank.com/loggerhead" target="_blank">HackerRank</a></li>
        <li><a href="https://douban.com/people/loggerhead" target="_blank">豆瓣</a></li>
      </ul>
    </div><!--/.navbar-header -->
  </div><!--/.container -->
</nav><!--/.navbar -->

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="markdown-body article-list">
  <section id="content">
    <article>
      <header class="page-header">
        <h1>
          <a class="article-title" href="../posts/gei-github-xiang-mu-dai-shang-xun-zhang.html" rel="bookmark" title="Permalink to 给 GitHub 项目戴上勋章">
            给 GitHub 项目戴上勋章
          </a>
        </h1>
<footer class="post-info">
  <div class="row">
    <div class="col-xs-8">
      <!-- <span class="label label-default">Tags</span> -->
        <a class="tag btn btn-xs" href="../tag/github.html">
          GitHub
        </a>
        <a class="tag btn btn-xs" href="../tag/non-tech.html">
          non-tech
        </a>
    </div>

    <div class="col-xs-4 time">
      <time class="pull-right" datetime="2016-03-27T10:20:12+08:00">
        2016-03-27
      </time>
    </div>
  </div>
</footer>        <hr>
      </header>
      <div class="entry-content">
        <p>如果你常常使用 GitHub，稍微留心就会发现，不少项目都有勋章（badges），那这些勋章有什么用呢？要怎么给自己的项目也「戴上」勋章呢？</p>


<table>
<thead>
<tr>
<th>Travis</th>
<th>Coveralls</th>
<th>PyPI</th>
<th>License</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="Travis badge" src="https://img.shields.io/travis/loggerhead/Easy-Karabiner.svg" /></td>
<td><img alt="Coveralls badge" src="https://img.shields.io/coveralls/loggerhead/Easy-Karabiner.svg" /></td>
<td><img alt="PyPI Version" src="https://img.shields.io/pypi/v/easy_karabiner.svg" /></td>
<td><img alt="License" src="https://img.shields.io/badge/license-MIT-blue.svg" /></td>
</tr>
</tbody>
</table>
<h1 id="_1">勋章的作用</h1>
<p>在继续介绍勋章之前，我们先了解什么是持续集成。</p>
<h2 id="_2">持续集成</h2>
<p>有经验的开发者往往对自己写的代码有很强的「信心」，这种「信心」来自于丰富的经验，丰富到对代码的任何一点改动，都能被他们的「大局观」给捕捉到。但是随着代码规模增加，无论开发者的经验如何丰富，也很难继续「掌控」全局。因为开发者对项目其他部分可能一无所知，不知道其他开发者提供的接口是不是足够健壮，不知道对某个文件的修改会不会影响其他函数的调用，所有的这些未知都会让开发者逐渐丧失「信心」。</p>
<p>众所周知，给项目加上充足的测试通常能很好的解决上述问题。不过保持多高的测试频率才适当呢？应当每完成一个模块测试一次，或者每完成一个函数测试一次？一个自然而然的想法是，测试频率越高越好，不过如果项目迭代速度很快，每次都手动测试，等待测试结果出来再继续开发，这个过程就有点繁琐了。因此，有人提出了持续集成<sup id="fnref:continuous-integration"><a class="footnote-ref" href="#fn:continuous-integration" rel="footnote">1</a></sup>的概念。持续集成的核心想法是：如果有代码更新，运行自动化测试，并给出测试结果。持续集成的直接好处就是：如果有 bug，很快就能发现，并能定位到提交者（commiter），那么 bug 就能在更短的周期内被修复。</p>
<p>如果我们在 GitHub 上的开源项目也能做到持续集成，那么项目的质量就有所保证。也因此，无论是开发者，还是使用者都会对项目更加有信心。那么持续集成的结果怎么表达给项目的使用者呢，总不能叫他们去看冗长的分析结果吧？答案就是—勋章。</p>
<h2 id="_3">持续集成服务</h2>
<h3 id="travis-ci">Travis CI <img alt="Travis badge" src="https://img.shields.io/travis/loggerhead/Easy-Karabiner.svg" /></h3>
<p><a href="https://travis-ci.org/">Travis CI</a> 是一个免费为开源项目提供持续集成的网站。在与 GitHub 的账号关联以后，只需按一个按钮，写好 <code>.travis.yml</code>，就能让它对每一个 commit 或 pull request 按照 <code>.travis.yml</code> 中的规则执行脚本。</p>
<p>它实现的功能看似简单，但却十分强大，前面提到的自动化测试就是通过它实现的。以 <a href="https://github.com/loggerhead/Easy-Karabiner">Easy-Karabiner</a> 的 <code>.travis.yml</code> 为例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">language</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
<span class="l l-Scalar l-Scalar-Plain">python</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;2.7&quot;</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;3.3&quot;</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;3.4&quot;</span>
  <span class="p p-Indicator">-</span> <span class="s">&quot;3.5&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pip install coveralls</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pip install lxml click</span>
<span class="l l-Scalar l-Scalar-Plain">cache</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">directories</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$HOME/.cache/pip</span>
<span class="l l-Scalar l-Scalar-Plain">script</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python setup.py install</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">nosetests --with-coverage --cover-package=easy_karabiner</span>
<span class="l l-Scalar l-Scalar-Plain">after_success</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">coveralls</span>
</pre></div>
</td></tr></table>

<p>上面的规则告诉 Travis CI 在四种 Python 环境下分别进行相同的操作：</p>
<ol>
<li>安装依赖：<code>pip install</code></li>
<li>安装项目：<code>python setup.py install</code></li>
<li>执行测试：<code>nosetests</code></li>
<li>上传测试结果到 Coveralls：<code>coveralls</code></li>
</ol>
<p>只有所有的操作都执行成功，它才会 passing 。</p>
<h3 id="coveralls">Coveralls <img alt="Coveralls badge" src="https://img.shields.io/coveralls/loggerhead/Easy-Karabiner.svg" /></h3>
<p><a href="https://coveralls.io/">Coveralls</a> 是一个提供测试覆盖率分析的网站，它能告诉你每个文件的测试覆盖率是多少，甚至代码中哪些行没有被测试用例覆盖到也能在报告中看到。更棒的是，对开源项目永久免费！</p>
<p><img alt="coveralls-example-file.png" src="https://dn-loggerhead.qbox.me/images/coveralls-example-file.png" />
<img alt="coveralls-example-detail.png" src="https://dn-loggerhead.qbox.me/images/coveralls-example-detail.png" /></p>
<p>Coveralls 的使用和 Travis CI 略有不同，其步骤如下（详见 Travis CI 中的示例）：</p>
<ol>
<li>与 GitHub 帐号关联，Turn on 需要分析的 repo</li>
<li>在 Travis CI 中执行测试，并生成 Coveralls 支持的测试报告</li>
<li>执行 <code>coveralls</code> 命令上传测试报告</li>
</ol>
<p>目前 Coveralls 支持的语言和服务如下：</p>
<ul>
<li>语言：Ruby、Python、PHP、Node.js、C/C++、Scala</li>
<li>CI 服务：Travis CI、Travis Pro、CircleCI、Jenkins、Semaphore、Codeship</li>
</ul>
<p>如果开发语言是 Python，个人推荐下面这套 Combo：</p>
<ul>
<li><a href="https://travis-ci.org/">Travis CI</a></li>
<li><a href="https://nose.readthedocs.org/en/latest/">nosetests</a></li>
<li><a href="https://github.com/coagulant/coveralls-python">coveralls-python</a></li>
</ul>
<h3 id="landscape">Landscape <img alt="Landscape badge" src="https://landscape.io/github/loggerhead/Easy-Karabiner/master/landscape.svg" /></h3>
<p><a href="https://landscape.io/">Landscape</a> 是 <strong>提供 Python 代码质量分析</strong> 的网站，它能帮助你发现代码中的错误或「坏味道」，比如：</p>
<p><img alt="landscape-example-warning.png" src="https://dn-loggerhead.qbox.me/images/landscape-example-warning.png" />
<img alt="landscape-example-error.png" src="https://dn-loggerhead.qbox.me/images/landscape-example-error.png" /></p>
<p>同样，它也能给出每个文件的「健康情况」：</p>
<p><img alt="landscape-example-score.png" src="https://dn-loggerhead.qbox.me/images/landscape-example-score.png" /></p>
<p>Landscape 默认使用 <a href="https://github.com/PyCQA/pylint">pylint</a> 进行分析，也可以创建 <code>.landscape.yml</code> 文件，并在里面配置使用其他工具或者 disable 一些检查，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">pylint</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">disable</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">unused-argument</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">redefined-builtin</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">arguments-differ</span>
</pre></div>
</td></tr></table>

<h1 id="_4">获取勋章</h1>
<p>上述持续集成服务自身就有提供勋章，拿 <a href="https://github.com/loggerhead/Easy-Karabiner">loggerhead/Easy-Karabiner</a> 为例，这些勋章的链接分别是：</p>
<ul>
<li><a href="https://travis-ci.org/loggerhead/Easy-Karabiner.svg">https://travis-ci.org/loggerhead/Easy-Karabiner.svg</a></li>
<li><a href="https://coveralls.io/repos/github/loggerhead/Easy-Karabiner/badge.svg">https://coveralls.io/repos/github/loggerhead/Easy-Karabiner/badge.svg</a></li>
<li><a href="https://landscape.io/github/loggerhead/Easy-Karabiner/master/landscape.svg">https://landscape.io/github/loggerhead/Easy-Karabiner/master/landscape.svg</a></li>
</ul>
<p>如果想添加其他勋章，可以在 http://shields.io/ 找找看，它提供了很多种类的勋章，比如：</p>
<ul>
<li>GitHub: <img alt="Stars badge" src="https://img.shields.io/github/stars/django/django.svg" /> <img alt="Forks badge" src="https://img.shields.io/github/forks/django/django.svg" /> <img alt="Issues badge" src="https://img.shields.io/github/issues/django/django.svg" /></li>
<li>PyPI<sup id="fnref:How-to-submit-a-package-to-PyPI"><a class="footnote-ref" href="#fn:How-to-submit-a-package-to-PyPI" rel="footnote">2</a></sup>: <img alt="PyPI download badge" src="https://img.shields.io/pypi/dm/Django.svg" /> <img alt="PyPI version badge" src="https://img.shields.io/pypi/v/Django.svg" /> <img alt="PyPI pyversions badge" src="https://img.shields.io/pypi/pyversions/Django.svg" /></li>
</ul>
<p>不过 <a href="http://shields.io/">Shields.io</a> 只给出了勋章的示例链接，具体的格式还得靠自己观察……比如：</p>
<ul>
<li><a href="https://img.shields.io/pypi/dm/Django.svg">https://img.shields.io/pypi/dm/Django.svg</a> 的格式是 <code>https://img.shields.io/pypi/dm/{{PACKAGE_NAME}}.svg</code>，其中 <code>dm</code> 是 <code>download per month</code> 的意思。</li>
<li><a href="https://img.shields.io/github/stars/badges/shields.svg">https://img.shields.io/github/stars/badges/shields.svg</a> 的格式是 <code>https://img.shields.io/github/stars/{{USER_NAME}}/{{REPO_NAME}}.svg</code></li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:continuous-integration">
<p>关于持续集成更详细的介绍可以看看这篇博客：<a href="http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html">持续集成是什么？</a>&#160;<a class="footnote-backref" href="#fnref:continuous-integration" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:How-to-submit-a-package-to-PyPI">
<p>PyPI 是 Python Package Index 的缩写，通过 <code>pip install</code> 命令下载的包都必须先上传到这里，具体的操作过程参见博客：<a href="http://peterdowns.com/posts/first-time-with-pypi.html">How to submit a package to PyPI</a>&#160;<a class="footnote-backref" href="#fnref:How-to-submit-a-package-to-PyPI" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
      </div>
    </article>
  </section>
<div id="disqus_thread"></div>
<script>
var disqus_config = function () {
    this.page.identifier = "给 GitHub 项目戴上勋章";
};

(function() {
    var d = document, s = d.createElement('script');
    s.async = true;
    s.src = "//loggerhead.disqus.com/embed.js";
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>      </div>
    </div>
  </div>
</div>

 <footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-xs-8">
        <p>
          &copy;2016&nbsp; <a href="..">loggerhead</a>
        </p>
      </div>
      <div class="col-xs-4">
        <p class="pull-right">
          <a href="#" class="back-to-top">
            <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
            回到顶部
          </a>
        </p>
      </div>
    </div>

    <div class="row hidden-when-phone">
      <div class="col-xs-8">
        <p>
          <a href="http://www.miitbeian.gov.cn/" target="_blank">粤ICP备16007488号</a>
          &middot; Powered by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
        </p>

        <p>
          本站文章均为原创，并遵循 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh_TW" target="_blank">CC BY-SA 4.0 协议</a>
        </p>
      </div><!--/.col-xs-8 -->

      <div class="col-xs-4">
        <p class="pull-right">
          <a href="https://www.upyun.com/zh/league.html" target="_blank">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAtCAMAAAAZUYxJAAAAtFBMVEUAAABPrtxPrtxPrtxPrtxPrtxlZ2ZlZ2ZPrtxlZ2ZRqdRlZ2ZPrtxPrtxPrtxPrtxPrtxlZ2ZPrtxlZ2ZPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxPrtxlZ2ZPrtxPrtxPrtxlZ2ZlZ2ZPrtxlZ2ZlZ2ZPrtxPrtxlZ2ZlZ2ZlZ2ZlZ2ZlZ2ZPrtxPrtxlZ2ZPrtxlZ2ZlZ2ZlZ2ZPrtxPrtxlZ2ZPrtxlZ2bPPWi/AAAAOnRSTlMAgNCQ8aAQcD8fA/FPMevhsDD5wLp1cCHZypmHOwyrooFTGhLh0sSwinlfXfju67yMRyfcooZ4RS0XProUtAAAAZlJREFUSMft02tT4jAUxvHTNtAaobjd3iyUq1zE1V1dr0++//fypMGZCrbw1jG/N2nD8KcTTsmyLOvH6sUC4Tio7fxWyufll1KKqKu0P7fLpy7veUCHlwAAfxMYELsAHKIOtCiMe2TICQxPNqeNq7OjaWNGlX+Ixo4TAxg2p6e+/8jL32PpVZomLnBJWhZdzomNQiBrTJ/x3Y1ej6Q9XQIi0tJwQZUAGC7KlrS8VermhHS/+khuR8U17cRg+bYxTUvePTUtL+5p0iejdIJ5vwCKxqc+3z315IR0wsftLMgwB51Uf+9aqc1B2uf1gYbAapc2x1p+mc4nfDGnOikQE015jje+v6lNyPPaTMgMQJGmXpUuIyBO0tQ9SFdDIumTAf4Tvd0p43CupYsP1eQaB2mBF9oTmKF8WF+dGybNF3fLaZfYYpgLAGbCZOIKg6ehEEK/Gq98R2OIraS6Xqh//zNz1ntmQEgtMgGEbg2HkZet6Z6ndQbAmNr0c+xbZdSa9rATZtRK3l87dcmIqD2duJXYmZNlWZb17b0DTmto7227YPgAAAAASUVORK5CYII=" />
          </a>
        </p>
      </div>
    </div>
  </div>
</footer>
    <script src="../theme/js/bag.2.0.2.min.js"></script>

<script id="myscripts">
bag = new window.Bag();

bag.require([
    "//cdn.bootcss.com/jquery/2.2.1/jquery.min.js",
    "//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"
]);

function load_css(url, done) {
    var link  = document.createElement('link');
    link.rel  = 'stylesheet';
    link.href = url;
    link.onload = done;
    document.head.appendChild(link);
}

function load_js(url, done) {
    var script = document.createElement('script');
    script.src = url;
    script.onload = done;
    document.body.appendChild(script);
}

function gestureStart() {
    for (i = 0; i < metas.length; i++) {
        if (metas[i].name == "viewport") {
            metas[i].content = "width=device-width, minimum-scale=0.25, maximum-scale=1.6";
        }
    }
}

(function screen_suit() {
    var metas = document.getElementsByTagName('meta');
    var ua = navigator.userAgent;
    if (ua.match(/iPhone/i)) {
        for (var i = 0; i < metas.length; i++) {
            if (metas[i].name == "viewport") {
                metas[i].content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0";
            }
        }
        document.addEventListener("gesturestart", gestureStart, false);
    }
})();

// See https://gist.github.com/vartan/ab195e5a502a47e0c3e5
(function fix_hover_behavior() {
    if('ontouchstart' in document.documentElement) {
        for(var sheetI = document.styleSheets.length - 1; sheetI >= 0; sheetI--) {
            var sheet = document.styleSheets[sheetI];
            if(sheet.cssRules) {
                for(var ruleI = sheet.cssRules.length - 1; ruleI >= 0; ruleI--) {
                    var rule = sheet.cssRules[ruleI];
                    if(rule.selectorText) {
                        rule.selectorText = rule.selectorText.replace(":hover", ":active");
                    }
                }
            }
        }
    }
})();

(function add_class_to_chinese_em(class_name) {
    var ems = document.getElementsByTagName("em");

    for (var i = 0; i < ems.length; i++) {
        var text = ems[i].textContent;
        // if has chinese char
        if(/.*[\u4e00-\u9fa5]+.*$/.test(text)) {
            ems[i].className += " " + class_name;
        }
    }
})('chinese');

// IE10 viewport hack for Surface/desktop Windows 8 bug
(function fix_ie10_viewport_bug() {
    if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
        bag.require([
            "//maxcdn.bootstrapcdn.com/css/ie10-viewport-bug-workaround.css",
            "//maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"
        ]);
    }
})();

(function load_katex_when_need(class_name) {
    var maths = document.getElementsByClassName(class_name);
    if (maths.length == 0) {
        return;
    }

    bag.require([
        "//cdn.bootcss.com/KaTeX/0.6.0/katex.min.js"
    ]).then(function() {
        for (var i = 0; i < maths.length; i++) {
            var math = maths[i];

            var displayMode = null;
            if (math.tagName == "SPAN") {
                displayMode = false;
            } else if (math.tagName == "DIV") {
                displayMode = true;
            }

            if (displayMode === null) {
                console.log("Cannot render " + math);
            } else {
                try {
                    katex.render(math.textContent, maths[i], { displayMode: displayMode });
                } catch (err) {
                    console.log(err);
                }
            }
        }
    });

    load_css("//cdn.bootcss.com/KaTeX/0.6.0/katex.min.css");
})("math");
</script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script>
  bag.require([
    "//cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js",
    "//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"
  ]);
  </script>
<![endif]-->
 
</body>
</html>